(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2911],{60138:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/properties/city/[slug]",function(){return l(5808)}])},5808:function(e,t,l){"use strict";l.r(t),l.d(t,{__N_SSP:function(){return w},default:function(){return P}});var a=l(85893),s=l(67294);l(49824);var i=l(34774),r=l(41664),n=l.n(r),o=l(85715),c=l(58474),d=l(80864),u=l(11163),p=l(90086),g=l(38565),h=l(51183),m=l(77399),x=l(25789),_=l(9473),v=l(82618),f=l(7134),j=l(87713),y=l(64297);let N=()=>{let[e,t]=(0,s.useState)(!1),[l,i]=(0,s.useState)(!1),[r,N]=(0,s.useState)(),[S,w]=(0,s.useState)({propType:"",category:"",minPrice:"",maxPrice:"",postedSince:"",selectedLocation:null}),[P,C]=(0,s.useState)(),[E,Z]=(0,s.useState)(0),T=(0,u.useRouter)(),k=T.query,O=(0,_.v9)(e=>e.User_signup),b=O&&O.data?O.data.data.id:null,D=(0,_.v9)(x.iT),R=(0,_.v9)(j.A3);(0,s.useEffect)(()=>{},[D]),(0,s.useEffect)(()=>{i(!0),(0,h.RO)({city:k.slug,offset:E.toString(),limit:"8",current_user:O?b:"",onSuccess:e=>{C(e.total);let t=e.data;i(!1),N(t)},onError:e=>{i(!1),console.log(e)}})},[E,O]);let A=e=>{let t=8*e.selected;Z(t),window.scrollTo(0,0)},F=e=>{let{name:t,value:l,type:a}=e.target;if("number"===a){let e=Math.max(0,parseInt(l));w({...S,[t]:e})}else w({...S,[t]:l})},I=e=>{w({...S,propType:"sell"===e?0:1})},L=e=>{w({...S,postedSince:e.target.value})},H=e=>{e.preventDefault();let t="";"yesterday"===S.postedSince?t="0":"lastWeek"===S.postedSince&&(t="1"),(0,h.RO)({category_id:S?null==S?void 0:S.category:"",city:k,offset:E.toString(),limit:"8",current_user:O?b:"",property_type:S?null==S?void 0:S.propType:"",max_price:S?null==S?void 0:S.maxPrice:"",min_price:S?null==S?void 0:S.minPrice:"",posted_since:t,onSuccess:e=>{C(e.total);let t=e.data;N(t),i(!1)},onError:e=>{i(!1),console.log(e)}})},M=()=>{w({propType:"",category:"",minPrice:"",maxPrice:"",postedSince:"",selectedLocation:null}),(0,h.RO)({city:k.slug,offset:E.toString(),limit:"8",current_user:O?b:"",onSuccess:e=>{C(e.total);let t=e.data;i(!1),N(t)},onError:e=>{i(!1),console.log(e)}})};return(0,a.jsxs)(y.Z,{children:[(0,a.jsx)(o.Z,{title:k.slug?"Properties Listed in ".concat(k.slug," "):"No Properties in ".concat(k.slug)}),(0,a.jsx)("div",{id:"all-prop-containt",children:(0,a.jsx)("div",{className:"all-properties container",children:(0,a.jsxs)("div",{className:"row ",id:"main-all-prop",children:[(0,a.jsx)("div",{className:"col-12 col-md-12 col-lg-3",children:(0,a.jsx)(d.Z,{filterData:S,getCategories:R,handleInputChange:F,handleTabClick:I,handlePostedSinceChange:L,cityName:k.slug,handleApplyfilter:H,handleClearFilter:M})}),(0,a.jsx)("div",{className:"col-12 col-md-12 col-lg-9",children:(0,a.jsxs)("div",{className:"all-prop-rightside",children:[r&&r.length>0?(0,a.jsx)(p.Z,{total:P,setGrid:t}):null,r&&r.length>0?e?(0,a.jsx)("div",{id:"columnCards",children:(0,a.jsx)("div",{className:"row",id:"all-prop-col-cards",children:r.map((e,t)=>(0,a.jsx)("div",{className:"col-12 col-md-6 col-lg-4",children:(0,a.jsx)(n(),{href:"/properties-details/[slug]",as:"/properties-details/".concat(e.slug_id),passHref:!0,children:(0,a.jsx)(c.Z,{ele:e})})},t))})}):(0,a.jsx)("div",{className:"all-prop-cards",id:"rowCards",children:l?Array.from({length:8}).map((e,t)=>(0,a.jsx)("div",{className:"col-sm-12  loading_data",children:(0,a.jsx)(m.Z,{})})):r.map(e=>(0,a.jsx)(n(),{href:"/properties-details/[slug]",as:"/properties-details/".concat(e.slug_id),passHref:!0,children:(0,a.jsx)(g.Z,{ele:e})}))}):(0,a.jsx)("div",{className:"noDataFoundDiv",children:(0,a.jsx)(f.Z,{})}),r&&r.length>0?(0,a.jsx)("div",{className:"col-12",children:(0,a.jsx)(v.Z,{pageCount:Math.ceil(P/8),onPageChange:A})}):null]})})]})})})]})},S=e=>{let{seoData:t,currentURL:l,citySlug:s}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Z,{title:(null==t?void 0:t.data)&&t.data.length>0&&t.data[0].meta_title,description:(null==t?void 0:t.data)&&t.data.length>0&&t.data[0].meta_description,keywords:(null==t?void 0:t.data)&&t.data.length>0&&t.data[0].meta_keywords,ogImage:(null==t?void 0:t.data)&&t.data.length>0&&t.data[0].meta_image,pathName:l}),(0,a.jsx)(N,{})]})};var w=!0,P=S}},function(e){e.O(0,[5937,8166,4617,4980,3874,3609,9401,5675,913,631,1664,3789,155,5529,6958,7545,2610,8258,3742,354,2800,4528,9774,2888,179],function(){return e(e.s=60138)}),_N_E=e.O()}]);